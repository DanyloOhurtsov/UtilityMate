let nemw = [{"currencyCodeA":840,"currencyCodeB":980,"date":1682460074,"rateBuy":36.65,"rateCross":0,"rateSell":37.4406},{"currencyCodeA":978,"currencyCodeB":980,"date":1682513174,"rateBuy":40.45,"rateCross":0,"rateSell":41.6008},{"currencyCodeA":978,"currencyCodeB":840,"date":1682513174,"rateBuy":1.096,"rateCross":0,"rateSell":1.109},{"currencyCodeA":826,"currencyCodeB":980,"date":1682516003,"rateBuy":0,"rateCross":46.8478,"rateSell":0},{"currencyCodeA":392,"currencyCodeB":980,"date":1682515958,"rateBuy":0,"rateCross":0.28,"rateSell":0},{"currencyCodeA":756,"currencyCodeB":980,"date":1682515931,"rateBuy":0,"rateCross":42.3306,"rateSell":0},{"currencyCodeA":156,"currencyCodeB":980,"date":1682515931,"rateBuy":0,"rateCross":5.4027,"rateSell":0},{"currencyCodeA":784,"currencyCodeB":980,"date":1682515997,"rateBuy":0,"rateCross":10.1922,"rateSell":0},{"currencyCodeA":971,"currencyCodeB":980,"date":1663425223,"rateBuy":0,"rateCross":0.4252,"rateSell":0},{"currencyCodeA":8,"currencyCodeB":980,"date":1682514806,"rateBuy":0,"rateCross":0.3717,"rateSell":0},{"currencyCodeA":51,"currencyCodeB":980,"date":1682515900,"rateBuy":0,"rateCross":0.0973,"rateSell":0},{"currencyCodeA":973,"currencyCodeB":980,"date":1682258448,"rateBuy":0,"rateCross":0.0739,"rateSell":0},{"currencyCodeA":32,"currencyCodeB":980,"date":1682515983,"rateBuy":0,"rateCross":0.1696,"rateSell":0},{"currencyCodeA":36,"currencyCodeB":980,"date":1682515692,"rateBuy":0,"rateCross":25.1171,"rateSell":0},{"currencyCodeA":944,"currencyCodeB":980,"date":1682515948,"rateBuy":0,"rateCross":21.9918,"rateSell":0},{"currencyCodeA":50,"currencyCodeB":980,"date":1682515294,"rateBuy":0,"rateCross":0.3481,"rateSell":0},{"currencyCodeA":975,"currencyCodeB":980,"date":1682515998,"rateBuy":0,"rateCross":21.0192,"rateSell":0},{"currencyCodeA":48,"currencyCodeB":980,"date":1682515113,"rateBuy":0,"rateCross":99.59,"rateSell":0},{"currencyCodeA":108,"currencyCodeB":980,"date":1538606522,"rateBuy":0,"rateCross":0.0158,"rateSell":0},{"currencyCodeA":96,"currencyCodeB":980,"date":1681712199,"rateBuy":0,"rateCross":28.363,"rateSell":0},{"currencyCodeA":68,"currencyCodeB":980,"date":1682450658,"rateBuy":0,"rateCross":5.4574,"rateSell":0},{"currencyCodeA":986,"currencyCodeB":980,"date":1682515518,"rateBuy":0,"rateCross":7.4541,"rateSell":0},{"currencyCodeA":72,"currencyCodeB":980,"date":1681978995,"rateBuy":0,"rateCross":2.8521,"rateSell":0},{"currencyCodeA":933,"currencyCodeB":980,"date":1682487368,"rateBuy":0,"rateCross":12.7441,"rateSell":0},{"currencyCodeA":124,"currencyCodeB":980,"date":1682515969,"rateBuy":0,"rateCross":27.6846,"rateSell":0},{"currencyCodeA":976,"currencyCodeB":980,"date":1655462332,"rateBuy":0,"rateCross":0.0163,"rateSell":0},{"currencyCodeA":152,"currencyCodeB":980,"date":1682482642,"rateBuy":0,"rateCross":0.0461,"rateSell":0},{"currencyCodeA":170,"currencyCodeB":980,"date":1682515041,"rateBuy":0,"rateCross":0.0083,"rateSell":0},{"currencyCodeA":188,"currencyCodeB":980,"date":1682465768,"rateBuy":0,"rateCross":0.0706,"rateSell":0},{"currencyCodeA":192,"currencyCodeB":980,"date":1682460005,"rateBuy":0,"rateCross":1.5237,"rateSell":0},{"currencyCodeA":203,"currencyCodeB":980,"date":1682516002,"rateBuy":0,"rateCross":1.7662,"rateSell":0},{"currencyCodeA":262,"currencyCodeB":980,"date":1678810696,"rateBuy":0,"rateCross":0.2108,"rateSell":0},{"currencyCodeA":208,"currencyCodeB":980,"date":1682515986,"rateBuy":0,"rateCross":5.5593,"rateSell":0},{"currencyCodeA":12,"currencyCodeB":980,"date":1682511552,"rateBuy":0,"rateCross":0.2767,"rateSell":0},{"currencyCodeA":818,"currencyCodeB":980,"date":1682515937,"rateBuy":0,"rateCross":1.2141,"rateSell":0},{"currencyCodeA":230,"currencyCodeB":980,"date":1682417764,"rateBuy":0,"rateCross":0.692,"rateSell":0},{"currencyCodeA":981,"currencyCodeB":980,"date":1682516003,"rateBuy":0,"rateCross":15.1736,"rateSell":0},{"currencyCodeA":936,"currencyCodeB":980,"date":1682514950,"rateBuy":0,"rateCross":3.1451,"rateSell":0},{"currencyCodeA":270,"currencyCodeB":980,"date":1682288296,"rateBuy":0,"rateCross":0.6324,"rateSell":0},{"currencyCodeA":324,"currencyCodeB":980,"date":1681911999,"rateBuy":0,"rateCross":0.0044,"rateSell":0},{"currencyCodeA":344,"currencyCodeB":980,"date":1682514458,"rateBuy":0,"rateCross":4.7712,"rateSell":0},{"currencyCodeA":191,"currencyCodeB":980,"date":1680625280,"rateBuy":0,"rateCross":5.4258,"rateSell":0},{"currencyCodeA":348,"currencyCodeB":980,"date":1682515991,"rateBuy":0,"rateCross":0.1103,"rateSell":0},{"currencyCodeA":360,"currencyCodeB":980,"date":1682515997,"rateBuy":0,"rateCross":0.0025,"rateSell":0},{"currencyCodeA":376,"currencyCodeB":980,"date":1682515997,"rateBuy":0,"rateCross":10.3486,"rateSell":0},{"currencyCodeA":356,"currencyCodeB":980,"date":1682515978,"rateBuy":0,"rateCross":0.4581,"rateSell":0},{"currencyCodeA":368,"currencyCodeB":980,"date":1682513816,"rateBuy":0,"rateCross":0.0285,"rateSell":0},{"currencyCodeA":364,"currencyCodeB":980,"date":1682460005,"rateBuy":0,"rateCross":0.0009,"rateSell":0},{"currencyCodeA":352,"currencyCodeB":980,"date":1682513090,"rateBuy":0,"rateCross":0.274,"rateSell":0},{"currencyCodeA":400,"currencyCodeB":980,"date":1682514664,"rateBuy":0,"rateCross":52.8478,"rateSell":0},{"currencyCodeA":404,"currencyCodeB":980,"date":1682515933,"rateBuy":0,"rateCross":0.276,"rateSell":0},{"currencyCodeA":417,"currencyCodeB":980,"date":1682514133,"rateBuy":0,"rateCross":0.4281,"rateSell":0},{"currencyCodeA":116,"currencyCodeB":980,"date":1682515604,"rateBuy":0,"rateCross":0.0091,"rateSell":0},{"currencyCodeA":408,"currencyCodeB":980,"date":1682460005,"rateBuy":0,"rateCross":16.6221,"rateSell":0},{"currencyCodeA":410,"currencyCodeB":980,"date":1682515611,"rateBuy":0,"rateCross":0.0281,"rateSell":0},{"currencyCodeA":414,"currencyCodeB":980,"date":1682512849,"rateBuy":0,"rateCross":122.4181,"rateSell":0},{"currencyCodeA":398,"currencyCodeB":980,"date":1682515951,"rateBuy":0,"rateCross":0.0825,"rateSell":0},{"currencyCodeA":418,"currencyCodeB":980,"date":1682490016,"rateBuy":0,"rateCross":0.0022,"rateSell":0},{"currencyCodeA":422,"currencyCodeB":980,"date":1678882171,"rateBuy":0,"rateCross":0.0004,"rateSell":0},{"currencyCodeA":144,"currencyCodeB":980,"date":1682514468,"rateBuy":0,"rateCross":0.1163,"rateSell":0},{"currencyCodeA":434,"currencyCodeB":980,"date":1674670757,"rateBuy":0,"rateCross":7.8783,"rateSell":0},{"currencyCodeA":504,"currencyCodeB":980,"date":1682514213,"rateBuy":0,"rateCross":3.7075,"rateSell":0},{"currencyCodeA":498,"currencyCodeB":980,"date":1682515996,"rateBuy":0,"rateCross":2.0837,"rateSell":0},{"currencyCodeA":969,"currencyCodeB":980,"date":1682183421,"rateBuy":0,"rateCross":0.0085,"rateSell":0},{"currencyCodeA":807,"currencyCodeB":980,"date":1682515993,"rateBuy":0,"rateCross":0.6704,"rateSell":0},{"currencyCodeA":496,"currencyCodeB":980,"date":1682509812,"rateBuy":0,"rateCross":0.0107,"rateSell":0},{"currencyCodeA":478,"currencyCodeB":980,"date":1682460005,"rateBuy":0,"rateCross":0.1074,"rateSell":0},{"currencyCodeA":480,"currencyCodeB":980,"date":1682511039,"rateBuy":0,"rateCross":0.8302,"rateSell":0},{"currencyCodeA":454,"currencyCodeB":980,"date":1678369785,"rateBuy":0,"rateCross":0.0368,"rateSell":0},{"currencyCodeA":484,"currencyCodeB":980,"date":1682515248,"rateBuy":0,"rateCross":2.0867,"rateSell":0},{"currencyCodeA":458,"currencyCodeB":980,"date":1682515520,"rateBuy":0,"rateCross":8.4699,"rateSell":0},{"currencyCodeA":943,"currencyCodeB":980,"date":1682512766,"rateBuy":0,"rateCross":0.5921,"rateSell":0},{"currencyCodeA":516,"currencyCodeB":980,"date":1682513858,"rateBuy":0,"rateCross":2.0669,"rateSell":0},{"currencyCodeA":566,"currencyCodeB":980,"date":1682511036,"rateBuy":0,"rateCross":0.0809,"rateSell":0},{"currencyCodeA":558,"currencyCodeB":980,"date":1682461870,"rateBuy":0,"rateCross":1.0356,"rateSell":0},{"currencyCodeA":578,"currencyCodeB":980,"date":1682515984,"rateBuy":0,"rateCross":3.5863,"rateSell":0},{"currencyCodeA":524,"currencyCodeB":980,"date":1682513344,"rateBuy":0,"rateCross":0.2853,"rateSell":0},{"currencyCodeA":554,"currencyCodeB":980,"date":1682498894,"rateBuy":0,"rateCross":23.1795,"rateSell":0},{"currencyCodeA":512,"currencyCodeB":980,"date":1682446819,"rateBuy":0,"rateCross":97.2525,"rateSell":0},{"currencyCodeA":604,"currencyCodeB":980,"date":1682515669,"rateBuy":0,"rateCross":9.9749,"rateSell":0},{"currencyCodeA":608,"currencyCodeB":980,"date":1682514843,"rateBuy":0,"rateCross":0.6743,"rateSell":0},{"currencyCodeA":586,"currencyCodeB":980,"date":1682515943,"rateBuy":0,"rateCross":0.132,"rateSell":0},{"currencyCodeA":985,"currencyCodeB":980,"date":1682516006,"rateBuy":0,"rateCross":9.0117,"rateSell":0},{"currencyCodeA":600,"currencyCodeB":980,"date":1682515648,"rateBuy":0,"rateCross":0.0051,"rateSell":0},{"currencyCodeA":634,"currencyCodeB":980,"date":1682512433,"rateBuy":0,"rateCross":10.2858,"rateSell":0},{"currencyCodeA":946,"currencyCodeB":980,"date":1682516001,"rateBuy":0,"rateCross":8.4047,"rateSell":0},{"currencyCodeA":941,"currencyCodeB":980,"date":1682515306,"rateBuy":0,"rateCross":0.3508,"rateSell":0},{"currencyCodeA":682,"currencyCodeB":980,"date":1682515906,"rateBuy":0,"rateCross":9.9905,"rateSell":0},{"currencyCodeA":690,"currencyCodeB":980,"date":1682514003,"rateBuy":0,"rateCross":2.7534,"rateSell":0},{"currencyCodeA":938,"currencyCodeB":980,"date":1680961561,"rateBuy":0,"rateCross":0.0627,"rateSell":0},{"currencyCodeA":752,"currencyCodeB":980,"date":1682515986,"rateBuy":0,"rateCross":3.6608,"rateSell":0},{"currencyCodeA":702,"currencyCodeB":980,"date":1682515686,"rateBuy":0,"rateCross":28.1188,"rateSell":0},{"currencyCodeA":694,"currencyCodeB":980,"date":1664217991,"rateBuy":0,"rateCross":0.0024,"rateSell":0},{"currencyCodeA":706,"currencyCodeB":980,"date":1682460005,"rateBuy":0,"rateCross":0.0647,"rateSell":0},{"currencyCodeA":968,"currencyCodeB":980,"date":1680879569,"rateBuy":0,"rateCross":1.0284,"rateSell":0},{"currencyCodeA":760,"currencyCodeB":980,"date":1682460005,"rateBuy":0,"rateCross":0.0056,"rateSell":0},{"currencyCodeA":748,"currencyCodeB":980,"date":1668614714,"rateBuy":0,"rateCross":2.1898,"rateSell":0},{"currencyCodeA":764,"currencyCodeB":980,"date":1682516000,"rateBuy":0,"rateCross":1.0938,"rateSell":0},{"currencyCodeA":972,"currencyCodeB":980,"date":1682498237,"rateBuy":0,"rateCross":3.4303,"rateSell":0},{"currencyCodeA":795,"currencyCodeB":980,"date":1682460005,"rateBuy":0,"rateCross":0.0021,"rateSell":0},{"currencyCodeA":788,"currencyCodeB":980,"date":1682498435,"rateBuy":0,"rateCross":12.3726,"rateSell":0},{"currencyCodeA":949,"currencyCodeB":980,"date":1682516004,"rateBuy":0,"rateCross":1.93,"rateSell":0},{"currencyCodeA":901,"currencyCodeB":980,"date":1682515175,"rateBuy":0,"rateCross":1.219,"rateSell":0},{"currencyCodeA":834,"currencyCodeB":980,"date":1682513424,"rateBuy":0,"rateCross":0.0162,"rateSell":0},{"currencyCodeA":800,"currencyCodeB":980,"date":1682515159,"rateBuy":0,"rateCross":0.01,"rateSell":0},{"currencyCodeA":858,"currencyCodeB":980,"date":1682504614,"rateBuy":0,"rateCross":0.9666,"rateSell":0},{"currencyCodeA":860,"currencyCodeB":980,"date":1682515633,"rateBuy":0,"rateCross":0.0032,"rateSell":0},{"currencyCodeA":937,"currencyCodeB":980,"date":1682460005,"rateBuy":0,"rateCross":1.487,"rateSell":0},{"currencyCodeA":704,"currencyCodeB":980,"date":1682515903,"rateBuy":0,"rateCross":0.0015,"rateSell":0},{"currencyCodeA":950,"currencyCodeB":980,"date":1682449151,"rateBuy":0,"rateCross":0.0627,"rateSell":0},{"currencyCodeA":952,"currencyCodeB":980,"date":1682463395,"rateBuy":0,"rateCross":0.0631,"rateSell":0},{"currencyCodeA":886,"currencyCodeB":980,"date":1543715495,"rateBuy":0,"rateCross":0.112,"rateSell":0},{"currencyCodeA":710,"currencyCodeB":980,"date":1682512910,"rateBuy":0,"rateCross":2.0676,"rateSell":0},{"currencyCodeA":894,"currencyCodeB":980,"date":1682460005,"rateBuy":0,"rateCross":0.0021,"rateSell":0}];
function ALL(){
    let NowUSD = 0;
    let NowEUR = 0;
    let NowPLN = 0;
    // _________________________________________________________________________________________________ RATE SECTION 105
    function RATEFUNC(){
        // ________________________________________________________________________________________ CURRENCY 100
        function currencyMain(){
            // _______________________________________________________________________________ VARIABLEs 95
            let currencyChageRate = document.querySelector('.currencyChageRate');
            let insertUSDRate = document.querySelector('.insertUSDRate');
            let insertEURRate = document.querySelector('.insertEURRate');
            let insertPLNRate = document.querySelector('.insertPLNRate');
            let UAHNum = '980';
            let PLNNum = '985';
            let USDNum ='840';
            let EURNum ='978';
            let arr ={};
            // _______________________________________________________________________________ FUNCTIONS 95
            async function CurrencySelectRate(){
                let valueCurr = currencyChageRate.value;
                if(valueCurr=='Mono'){
                    // There is a limit on the number of requests to the server, the array saved in the "array.js" folder. Updated as of 04/20/2023
                        // OR API
                    // let resMono = await fetch('https://api.monobank.ua/bank/currency');
                    // let data = await resMono.json();
                    // let result = await data;
                    // console.log(result)
                        // OR SAVED ARRAY
                    let result = nemw;
                    result.forEach(item=>{
                        let itemAr = Object.values(item);
                        if(itemAr[1]== UAHNum){
                            let itemCur = itemAr[3];
                            if(itemAr[0]== USDNum){
                                if(itemCur == 0){
                                    itemCur = itemAr[4];
                                    arr.USD = itemCur.toFixed(2);
                                }
                                else{
                                    arr.USD = itemCur.toFixed(2);
                                }
                            }
                            if(itemAr[0]==PLNNum){
                                if(itemCur == 0){
                                    itemCur = itemAr[4];
                                    arr.PLN = itemCur.toFixed(2);
                                }
                                else{
                                    arr.PLN = itemCur.toFixed(2);
                                }
                            }
                            if(itemAr[0]==EURNum){
                                if(itemCur == 0){
                                    itemCur = itemAr[4];
                                    arr.EUR = itemCur.toFixed(2);
                                }
                                else{
                                    arr.EUR = itemCur.toFixed(2);
                                }
                            }
                        }
                    })
                    insertUSDRate.innerText = arr.USD;
                    insertEURRate.innerText = arr.EUR;
                    insertPLNRate.innerText = arr.PLN;
                };
                if(valueCurr=='NBP'){
                    let resNBP = await fetch('http://api.nbp.pl/api/exchangerates/tables/a/last/5/');
                    let data = await resNBP.json();
                    let result = await data[4];
                    result = Object.values(result);
                    result = result[3];
                    result.forEach(item => {
                        let itemAr = Object.values(item);
                        let itemNameNum = itemAr[1];
                        let itemCur = itemAr[2];
                        if(itemNameNum == 'UAH'){
                            arr.UAH = itemCur;
                        }
                        if(itemNameNum == 'USD'){
                            arr.USD = itemCur;
                        }
                        if(itemNameNum == 'EUR'){
                            arr.EUR = itemCur;
                        }
                    })
                    insertUSDRate.innerText = (arr.USD/arr.UAH).toFixed(2)
                    insertEURRate.innerText = (arr.EUR/arr.UAH).toFixed(2)
                    insertPLNRate.innerText = (1/arr.UAH).toFixed(2)
                };
                if(valueCurr=='NBU'){
                    let resNBU = await fetch('https://bank.gov.ua/NBUStatService/v1/statdirectory/exchange?json');
                    let data = await resNBU.json();
                    let result = await data;
                    result.forEach(item => {
                        let itemAr = Object.values(item);
                        let itemNameNum = itemAr[0];
                        let itemCur = itemAr[2];
                        if(itemNameNum == USDNum){
                            arr.USD = itemCur.toFixed(2);
                        }
                        if(itemNameNum == EURNum){
                            arr.EUR = itemCur.toFixed(2);
                        }
                        if(itemNameNum == PLNNum){
                            arr.PLN = itemCur.toFixed(2);
                        }
                    })
                    insertUSDRate.innerText = arr.USD;
                    insertEURRate.innerText = arr.EUR;
                    insertPLNRate.innerText = arr.PLN;  
                };
            }
            // _______________________________________________________________________________ EXECUTION OF FUNCTIONs
            CurrencySelectRate();
            currencyChageRate.addEventListener('change', CurrencySelectRate);
        }
        currencyMain()

        // ________________________________________________________________________________________ TIME 100
        function timeMain(){
            // _______________________________________________________________________________ VARIABLES 95
            let timeValue = document.querySelector('.timeValue');
            // FUNCTIONS
            function getDate(){
                let currentDate = new Date();
                let day = currentDate.getDate();
                    if(day<10){
                        day='0'+day;
                    }
                let month = currentDate.getMonth();
                    if(month<10){
                        month++;
                        month='0'+month;
                    }
                let year = currentDate.getFullYear();
                    if(year<10){
                        year='0'+year;
                    }
                let hour = currentDate.getHours();
                    if(hour<10){
                        hour='0'+hour;
                    }
                let minutes = currentDate.getMinutes();
                    if(minutes<10){
                        minutes='0'+minutes;
                    }
                let seconds = currentDate.getSeconds();
                    if(seconds<10){
                        seconds='0'+seconds;
                    }
                let Now = day+"."+month+ "."+year+"  "+hour+":"+minutes+":"+seconds;
                timeValue.innerText = Now;
            }
            // _______________________________________________________________________________ EXECUTION OF FUNCTIONs 95
            setInterval(getDate, 1000);
        }
        timeMain()
    };
    RATEFUNC();
    // _________________________________________________________________________________________________ CALCULATOR SECTION 105
    function CALCULATORFUNC(){
        let addNewItemBtn = document.querySelector('.addNewItem');
        addNewItemBtn.addEventListener('click',function(){
            let perentItem = this.closest('.inputCalc').querySelector('.contantItems');
            let newItem = document.createElement('div');
            newItem.classList.add('itemInputBlock');
            newItem.innerHTML = `
            <div class="titlItem">
                <div class="text">
                    <input type="text" placeholder="Enter Name">
                    <button class="editTitle"><i class="fa-regular fa-pen-to-square"></i></button>
                </div>
                <div class="price">
                    <p>UAH <span class="priceTotalItem">0.00</span></p>
                    <button class="openItem"><!--<i class="fa-solid fa-chevron-up">--></i></button>
                </div>
            </div>
            <div class="contentInput">
                <hr>
                <div class="inputsSec">
                    <div class="categoryItem">
                        <div class="titleCategoryItem">
                            <h5 class="titleCategory">Name</h5>
                            <div class="priceCategoryItem">
                                <p><span class="cur">UAH</span> <span class="numb">0.00</span></p>
                                <button class="openCategory"><i class="fa-solid fa-chevron-up"></i></button>
                            </div>
                        </div>
                        <div class="contentCat">
                            <hr>
                            <div class="editCategory">
                                <div class="left">
                                    <div class="blockEdit">
                                        <p>Name:</p>
                                        <div class="input">
                                            <input type="text" placeholder="Enter name" class="editNameInput">
                                            <button class="editName btneditname"><i class="fa-regular fa-pen-to-square"></i></button>
                                        </div>
                                    </div>
                                    <div class="remove">
                                        <button class="removeCat">Remove Category</button>
                                    </div>
                                </div>
                                <div class="right">
                                    <div class="blockEdit">
                                        <p>Currency:</p>
                                        <select name="" id="" class="selectCur">
                                            <option value="UAH">UAH</option>
                                            <option value="USD">USD</option>
                                            <option value="PLN">PLN</option>
                                            <option value="EUR">EUR</option>
                                        </select>
                                    </div>
                                    <div class="blockEdit">
                                        <p>Price:</p>
                                        <div class="input">
                                            <input type="number" placeholder="Enter value" class="valueCatInput">
                                            <button class="editPrice btneditprice"><i class="fa-regular fa-pen-to-square"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="addNewCategory">Add new<span><i class="fa-solid fa-plus"></i></span></button>
                <div class="bottomItem">
                    <button class="removeItem">Remove<span><i class="fa-solid fa-trash"></i></span></button>
                    <button class="calculateItem">Calculate</button>
                </div>
            </div>
            `
            perentItem.appendChild(newItem);
            // _______________________________________________________________________________ ITEM REMOVE FUNCTION 95
            let removeItemBtn = perentItem.querySelectorAll('.removeItem');
                removeItemBtn.forEach(item=>removeItemFunc(item));
            // _______________________________________________________________________________ ITEM OPEN CLOSING FUNCTION 95 NOT WORK
            let openItemBtn = perentItem.querySelectorAll('.openItem');
                // openItemBtn.forEach(item=>openItemFuncRem(item));
            // _______________________________________________________________________________ CATEGORY ADD FUNCTION 95
            let addNewCategoryBtn = perentItem.querySelectorAll('.addNewCategory');
                addNewCategoryBtn.forEach(item=>addNewCategoryFuncRem(item));
            // _______________________________________________________________________________ CATEGORY REMOVE FUNCTION 95
            let removeCatBtn = document.querySelectorAll('.removeCat');
                removeCatBtn.forEach(item=>removeCatFunc(item))
            // _______________________________________________________________________________ CATEGORY OPEN CLOSING FUNCTION 95
            let openCategoryBtn = document.querySelectorAll('.openCategory');
                openCategoryBtn.forEach(item=>openCategoryFuncRem(item));
            // _______________________________________________________________________________ CATEGORY EDIT FUNCTION 95
            let btneditnameBtn = document.querySelectorAll('.editName');
                btneditnameBtn.forEach(item=>editNameFuncRem(item));
            // _______________________________________________________________________________ CATEGORY EDIT INPUT FUNCTION 95
            let editNameInput = document.querySelectorAll('.editNameInput');
                editNameInput.forEach(item=>editNameInputFunRem(item));
            // _______________________________________________________________________________ CATEGORY CURRENCY EDIT BUTTON FUNCTION 100
            let selectCurSelect = document.querySelectorAll('.selectCur');
                selectCurSelect.forEach(item=>selectCurFuncRem(item));
            // ________________________________________________________________________________________ CATEGORY INPUT BUTTON CALCULATE 100
            let editPriceBtn = document.querySelectorAll('.editPrice');
                editPriceBtn.forEach(item=>editPriceFuncRem(item))
            // ________________________________________________________________________________________ CATEGORY INPUT CALCULATE 100
            let valueCatInput = document.querySelectorAll('.valueCatInput');
                valueCatInput.forEach(item=>valueCatInputFuncRem(item));
        })
        // ________________________________________________________________________________________ ITEM REMOVE FUNCTION 100
        function removeItemFunc(item){
            item.addEventListener('click', function(){
                this.closest('.itemInputBlock').remove();
            })
        }
        // ________________________________________________________________________________________ ITEM OPEN CLOSING FUNCTION 100 NOT WORK
        function openItemFuncRem(item){
            item.removeEventListener('click', openItemFunc);
            item.addEventListener('click', openItemFunc);
        }
        function openItemFunc(){
            let parentItem = this.closest('.itemInputBlock').querySelector('.contentInput');
            this.classList.toggle('active');
            if (this.classList.contains('active')) {
                parentItem.style.maxHeight = 0;
            } else {
                parentItem.style.maxHeight = parentItem.scrollHeight + 'px';
            }
            this.classList.toggle('rotate');
        }
        // ________________________________________________________________________________________ CATEGORY ADD FUNCTION 100
        function addNewCategoryFuncRem(item){
            item.removeEventListener('click', addNewCategoryFunc);
            item.addEventListener('click', addNewCategoryFunc);
        }
        function addNewCategoryFunc(){
            let parentCat = this.closest('.contentInput').querySelector('.inputsSec');
            let newCat = document.createElement('div');
            newCat.classList.add('categoryItem');
            newCat.innerHTML =`
            <div class="titleCategoryItem">
                <h5 class="titleCategory">Name</h5>
                <div class="priceCategoryItem">
                    <p><span class="cur">UAH</span> <span class="numb">0.00</span></p>
                    <button class="openCategory"><i class="fa-solid fa-chevron-up"></i></button>
                </div>
            </div>
            <div class="contentCat">
                <hr>
                <div class="editCategory">
                    <div class="left">
                        <div class="blockEdit">
                            <p>Name:</p>
                            <div class="input">
                                <input type="text" placeholder="Enter name" class="editNameInput">
                                <button class="editName btneditname"><i class="fa-regular fa-pen-to-square"></i></button>
                            </div>
                        </div>
                        <div class="remove">
                            <button class="removeCat">Remove Category</button>
                        </div>
                    </div>
                    <div class="right">
                        <div class="blockEdit">
                            <p>Currency:</p>
                            <select name="" id="" class="selectCur">
                                <option value="UAH">UAH</option>
                                <option value="USD">USD</option>
                                <option value="PLN">PLN</option>
                                <option value="EUR">EUR</option>
                            </select>
                        </div>
                        <div class="blockEdit">
                            <p>Price:</p>
                            <div class="input">
                                <input type="number" placeholder="Enter value" class="valueCatInput">
                                <button class="editPrice"><i class="fa-regular fa-pen-to-square"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            `
            parentCat.appendChild(newCat);
            parentCat.style.maxHeight = parentCat.scrollHeight+'px';
            // _______________________________________________________________________________ CATEGORY REMOVE FUNCTION 95
            let removeCatBtn = document.querySelectorAll('.removeCat');
                removeCatBtn.forEach(item=>removeCatFunc(item))
            // _______________________________________________________________________________ CATEGORY OPEN CLOSE FUNCTION 95
            let openCategoryBtn = document.querySelectorAll('.openCategory');
                openCategoryBtn.forEach(item=>openCategoryFuncRem(item));
            // _______________________________________________________________________________ CATEGORY EDIT FUNCTION 95
            let btneditnameBtn = document.querySelectorAll('.editName');
                btneditnameBtn.forEach(item=>editNameFuncRem(item));
            // _______________________________________________________________________________ CATEGORY EDIT INPUT FUNCTION 95
            let editNameInput = document.querySelectorAll('.editNameInput');
                editNameInput.forEach(item=>editNameInputFunRem(item));
            // _______________________________________________________________________________ CATEGORY CURRENCY EDIT BUTTON FUNCTION 100
            let selectCurSelect = document.querySelectorAll('.selectCur');
                selectCurSelect.forEach(item=>selectCurFuncRem(item));
            // ________________________________________________________________________________________ CATEGORY INPUT BUTTON CALCULATE 100
            let editPriceBtn = document.querySelectorAll('.editPrice');
                editPriceBtn.forEach(item=>editPriceFuncRem(item))
            // ________________________________________________________________________________________ CATEGORY INPUT CALCULATE 100
            let valueCatInput = document.querySelectorAll('.valueCatInput');
                valueCatInput.forEach(item=>valueCatInputFuncRem(item));

            let calculateItemBtn = document.querySelectorAll('.calculateItem');
            calculateItemBtn.forEach(item=>calculateItemFuncRem(item))
        }
        // ________________________________________________________________________________________ CATEGORY REMOVE FUNCTION 100
        function removeCatFunc(item){
            item.addEventListener('click', function(){
                this.closest('.categoryItem').remove();
            })
        }
        // ________________________________________________________________________________________ CATEGORY OPEN CLOSE FUNCTION 100
        function openCategoryFuncRem(item){
            item.removeEventListener('click', openCategoryFunc);
            item.addEventListener('click', openCategoryFunc)
        }
        function openCategoryFunc(){
            let parentCat = this.closest('.categoryItem').querySelector('.contentCat');
            this.classList.toggle('active');
            if (this.classList.contains('active')){
                parentCat.style.maxHeight = 0;
            }else{
                parentCat.style.maxHeight = parentCat.scrollHeight + 'px';
            }
            this.classList.toggle('rotate');
        }
        // ________________________________________________________________________________________ CATEGORY NAME EDIT BUTTON FUNCTION 100
        function editNameFuncRem(item){
            item.removeEventListener('click', editNameFunc);
            item.addEventListener('click', editNameFunc);
        }
        function editNameFunc(){
            this.closest('.input').querySelector('input').focus();
        }
        // ________________________________________________________________________________________ CATEGORY NAME EDIT INPUT FUNCTION 100
        function editNameInputFunRem(item){
            item.removeEventListener('input', editNameInputFunc);
            item.addEventListener('input', editNameInputFunc);
        }
        function editNameInputFunc(){
            if(this.value != ''){
                this.closest('.categoryItem').querySelector('.titleCategory').innerText = this.value;
            }else{
                this.closest('.categoryItem').querySelector('.titleCategory').innerText = 'Your name';
            }
        }
        // ________________________________________________________________________________________ CATEGORY CURRENCY EDIT BUTTON FUNCTION 100
        function selectCurFuncRem(item){
            item.removeEventListener('change', selectCurFunc);
            item.addEventListener('change', selectCurFunc);
        }
        function selectCurFunc(){
            let perentItem = this.closest('.categoryItem');
            let perentCur = perentItem.querySelector('.numb');
            let perentValueInput = Number(perentItem.querySelector('.valueCatInput').value);
            
            let currencyChageRate = document.querySelector('.currencyChageRate');
            let NowUSD = 0;
            let NowEUR = 0;
            let NowPLN = 0;
            let UAHNum = '980';
            let PLNNum = '985';
            let USDNum ='840';
            let EURNum ='978';
            let arr = {};
            async function CurrencySelectRate(){
                let valueCurr = currencyChageRate.value;
                if(valueCurr=='Mono'){
                    // There is a limit on the number of requests to the server, the array saved in the "array.js" folder. Updated as of 04/20/2023
                        // OR API
                    // let resMono = await fetch('https://api.monobank.ua/bank/currency');
                    // let data = await resMono.json();
                    // let result = await data;
                    // console.log(result)
                        // OR SAVED ARRAY
                    let result = nemw;
                    result.forEach(item=>{
                        let itemAr = Object.values(item);
                        if(itemAr[1]== UAHNum){
                            let itemCur = itemAr[3];
                            if(itemAr[0]== USDNum){
                                if(itemCur == 0){
                                    itemCur = itemAr[4];
                                    arr.USD = itemCur.toFixed(2);
                                    NowUSD = arr.USD;
                                }
                                else{
                                    arr.USD = itemCur.toFixed(2);
                                    NowUSD = arr.USD;
                                }
                            }
                            if(itemAr[0]==PLNNum){
                                if(itemCur == 0){
                                    itemCur = itemAr[4];
                                    arr.PLN = itemCur.toFixed(2);
                                    NowPLN = arr.PLN;
                                }
                                else{
                                    arr.PLN = itemCur.toFixed(2);
                                    NowPLN = arr.PLN;
                                }
                            }
                            if(itemAr[0]==EURNum){
                                if(itemCur == 0){
                                    itemCur = itemAr[4];
                                    arr.EUR = itemCur.toFixed(2);
                                    NowEUR = arr.EUR;
                                }
                                else{
                                    arr.EUR = itemCur.toFixed(2);
                                    NowEUR = arr.EUR;
                                }
                            }

                        }
                    })
                };
                if(valueCurr=='NBP'){
                    let resNBP = await fetch('http://api.nbp.pl/api/exchangerates/tables/a/last/5/');
                    let data = await resNBP.json();
                    let result = await data[4];
                    result = Object.values(result);
                    result = result[3];
                    result.forEach(item => {
                        let itemAr = Object.values(item);
                        let itemNameNum = itemAr[1];
                        let itemCur = itemAr[2];
                        if(itemNameNum == 'UAH'){
                            arr.UAH = itemCur;
                            NowPLN = 1/arr.UAH;
                        }
                        if(itemNameNum == 'USD'){
                            arr.USD = itemCur;
                            NowUSD = arr.USD/arr.UAH;
                        }
                        if(itemNameNum == 'EUR'){
                            arr.EUR = itemCur;
                            NowEUR = arr.EUR/arr.UAH;
                        }

                    })
                };
                if(valueCurr=='NBU'){
                    let resNBU = await fetch('https://bank.gov.ua/NBUStatService/v1/statdirectory/exchange?json');
                    let data = await resNBU.json();
                    let result = await data;
                    result.forEach(item => {
                        let itemAr = Object.values(item);
                        let itemNameNum = itemAr[0];
                        let itemCur = itemAr[2];
                        if(itemNameNum == USDNum){
                            arr.USD = itemCur.toFixed(2);
                            NowUSD = arr.USD;
                        }
                        if(itemNameNum == EURNum){
                            arr.EUR = itemCur.toFixed(2);
                            NowEUR = arr.EUR;
                        }
                        if(itemNameNum == PLNNum){
                            arr.PLN = itemCur.toFixed(2);
                            NowPLN = arr.PLN;
                        }

                    })
                };
            }
            if(this.value == 'USD'){
                CurrencySelectRate()
                perentCur.innerText = (perentValueInput*NowUSD).toFixed(2);
            }
            if(this.value == 'PLN'){
                CurrencySelectRate()
                perentCur.innerText = (perentValueInput*NowPLN).toFixed(2);
            }
            if(this.value == 'EUR'){
                CurrencySelectRate()
                perentCur.innerText = (perentValueInput*NowEUR).toFixed(2);
            }
            if(this.value == 'UAH'){
                perentCur.innerText = (perentValueInput).toFixed(2);
            }
        }
        // ________________________________________________________________________________________ CATEGORY INPUT BUTTON CALCULATE 100
        function editPriceFuncRem(item){
            item.removeEventListener('click', editPriceFunc);
            item.addEventListener('click', editPriceFunc);
        }
        function editPriceFunc(){
            this.closest('.input').querySelector('input').focus();
        }
        // ________________________________________________________________________________________ CATEGORY INPUT VALUE CHANGE 100
        function valueCatInputFuncRem(item){
            item.removeEventListener('input',valueCatInputFunc);
            item.addEventListener('input',valueCatInputFunc);
        }
        function valueCatInputFunc(){
            let perentItem = this.closest('.categoryItem');
            let perentValue = perentItem.querySelector('.numb');


            console.log(this)
            if(this.value == ''){
                this.closest('.categoryItem').querySelector('.numb').innerText = '0.00';
            }else{
                let currencyChageRate = document.querySelector('.currencyChageRate');
                let NowUSD = 0;
                let NowEUR = 0;
                let NowPLN = 0;
                let UAHNum = '980';
                let PLNNum = '985';
                let USDNum ='840';
                let EURNum ='978';
                let arr = {};
                async function CurrencySelectRate(){
                    let valueCurr = currencyChageRate.value;
                    if(valueCurr=='Mono'){
                        // There is a limit on the number of requests to the server, the array saved in the "array.js" folder. Updated as of 04/20/2023
                            // OR API
                        // let resMono = await fetch('https://api.monobank.ua/bank/currency');
                        // let data = await resMono.json();
                        // let result = await data;
                        // console.log(result)
                            // OR SAVED ARRAY
                        let result = nemw;
                        result.forEach(item=>{
                            let itemAr = Object.values(item);
                            if(itemAr[1]== UAHNum){
                                let itemCur = itemAr[3];
                                if(itemAr[0]== USDNum){
                                    if(itemCur == 0){
                                        itemCur = itemAr[4];
                                        arr.USD = itemCur.toFixed(2);
                                        NowUSD = arr.USD;
                                    }
                                    else{
                                        arr.USD = itemCur.toFixed(2);
                                        NowUSD = arr.USD;
                                    }
                                }
                                if(itemAr[0]==PLNNum){
                                    if(itemCur == 0){
                                        itemCur = itemAr[4];
                                        arr.PLN = itemCur.toFixed(2);
                                        NowPLN = arr.PLN;
                                    }
                                    else{
                                        arr.PLN = itemCur.toFixed(2);
                                        NowPLN = arr.PLN;
                                    }
                                }
                                if(itemAr[0]==EURNum){
                                    if(itemCur == 0){
                                        itemCur = itemAr[4];
                                        arr.EUR = itemCur.toFixed(2);
                                        NowEUR = arr.EUR;
                                    }
                                    else{
                                        arr.EUR = itemCur.toFixed(2);
                                        NowEUR = arr.EUR;
                                    }
                                }

                            }
                        })
                    };
                    if(valueCurr=='NBP'){
                        let resNBP = await fetch('http://api.nbp.pl/api/exchangerates/tables/a/last/5/');
                        let data = await resNBP.json();
                        let result = await data[4];
                        result = Object.values(result);
                        result = result[3];
                        result.forEach(item => {
                            let itemAr = Object.values(item);
                            let itemNameNum = itemAr[1];
                            let itemCur = itemAr[2];
                            if(itemNameNum == 'UAH'){
                                arr.UAH = itemCur;
                                NowPLN = 1/arr.UAH;
                            }
                            if(itemNameNum == 'USD'){
                                arr.USD = itemCur;
                                NowUSD = arr.USD/arr.UAH;
                            }
                            if(itemNameNum == 'EUR'){
                                arr.EUR = itemCur;
                                NowEUR = arr.EUR/arr.UAH;
                            }

                        })
                    };
                    if(valueCurr=='NBU'){
                        let resNBU = await fetch('https://bank.gov.ua/NBUStatService/v1/statdirectory/exchange?json');
                        let data = await resNBU.json();
                        let result = await data;
                        result.forEach(item => {
                            let itemAr = Object.values(item);
                            let itemNameNum = itemAr[0];
                            let itemCur = itemAr[2];
                            if(itemNameNum == USDNum){
                                arr.USD = itemCur.toFixed(2);
                                NowUSD = arr.USD;
                            }
                            if(itemNameNum == EURNum){
                                arr.EUR = itemCur.toFixed(2);
                                NowEUR = arr.EUR;
                            }
                            if(itemNameNum == PLNNum){
                                arr.PLN = itemCur.toFixed(2);
                                NowPLN = arr.PLN;
                            }

                        })
                    };
                }
                if(this.value == 'USD'){
                    CurrencySelectRate()
                    perentCur.innerText = (perentValueInput*NowUSD).toFixed(2);
                }
                if(this.value == 'PLN'){
                    CurrencySelectRate()
                    perentCur.innerText = (perentValueInput*NowPLN).toFixed(2);
                }
                if(this.value == 'EUR'){
                    CurrencySelectRate()
                    perentCur.innerText = (perentValueInput*NowEUR).toFixed(2);
                }
                if(this.value == 'UAH'){
                    perentCur.innerText = (perentValueInput).toFixed(2);
                }
                
                
                
                let value = Number(this.value).toFixed(2);
                this.closest('.categoryItem').querySelector('.numb').innerText = value;
            }
        }
        // ________________________________________________________________________________________ CATEGORY BUTTON VALUE CALCULATE 100
        function calculateItemFuncRem(item){
            item.removeEventListener('click', calculateItemFunc);
            item.addEventListener('click', calculateItemFunc);
        }
        function calculateItemFunc(){
            let perentItem = this.closest('.itemInputBlock');
            let perentValue = perentItem.querySelector('.priceTotalItem')
            let allInputsItem = perentItem.querySelectorAll('.numb')
            let sum = 0;
            allInputsItem.forEach(elem =>{
                let value = parseFloat(Number(elem.innerText));
                if(!isNaN(value)){
                    sum+=value
                }
            })
            if(sum=='0'){
                perentValue.innerText = '0.00';
            }else{
                perentValue.innerText = sum.toFixed(2);
            }
        }

    }
    CALCULATORFUNC();
}
ALL()